<!DOCTYPE html><html lang="en-gb"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Use Latest TLS version 1.2</title><meta name="description" content="What is TLS? Transport Layer Security (TLS) is an industry security standard to help protect data transmitted over the internet. The newest version of TLS, 1.2 provides enhanced security and it is the current standard. .NET Framework &amp; TLS The .NET framework uses common language&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://www.sahebansari.com/force-your-web-api-to-use-tls-1-2.html"><link rel="alternate" type="application/atom+xml" href="https://www.sahebansari.com/feed.xml"><link rel="alternate" type="application/json" href="https://www.sahebansari.com/feed.json"><meta property="og:title" content="Are you TLS 1.2 ready? Force your secure Web API to use TLS 1.2."><meta property="og:image" content="https://www.sahebansari.com/media/posts/1/step0005.png"><meta property="og:image:width" content="320"><meta property="og:image:height" content="189"><meta property="og:site_name" content="Saheb Ansari"><meta property="og:description" content="What is TLS? Transport Layer Security (TLS) is an industry security standard to help protect data transmitted over the internet. The newest version of TLS, 1.2 provides enhanced security and it is the current standard. .NET Framework &amp; TLS The .NET framework uses common language&hellip;"><meta property="og:url" content="https://www.sahebansari.com/force-your-web-api-to-use-tls-1-2.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://www.sahebansari.com/assets/css/style.css?v=f446c93c537724ebd8d3bbe321d62ab5"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sahebansari.com/force-your-web-api-to-use-tls-1-2.html"},"headline":"Are you TLS 1.2 ready? Force your secure Web API to use TLS 1.2.","datePublished":"2024-05-30T22:07+05:30","dateModified":"2024-05-30T22:21+05:30","image":{"@type":"ImageObject","url":"https://www.sahebansari.com/media/posts/1/step0005.png","height":189,"width":320},"description":"What is TLS? Transport Layer Security (TLS) is an industry security standard to help protect data transmitted over the internet. The newest version of TLS, 1.2 provides enhanced security and it is the current standard. .NET Framework &amp; TLS The .NET framework uses common language&hellip;","author":{"@type":"Person","name":"Saheb Ansari","url":"https://www.sahebansari.com/authors/saheb-ansari/"},"publisher":{"@type":"Organization","name":"Saheb Ansari"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://www.sahebansari.com/">Saheb Ansari</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.sahebansari.com/" target="_self">Home</a></li><li><a href="https://www.sahebansari.com/resume.html" title="Resume" target="_self">Resume</a></li><li><a href="https://www.sahebansari.com/aboutme.html" title="About Me" target="_self">About Me</a></li></ul></nav></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://www.sahebansari.com/media/posts/1/step0005.png" srcset="https://www.sahebansari.com/media/posts/1/responsive/step0005-xs.png 300w, https://www.sahebansari.com/media/posts/1/responsive/step0005-sm.png 480w, https://www.sahebansari.com/media/posts/1/responsive/step0005-md.png 768w, https://www.sahebansari.com/media/posts/1/responsive/step0005-lg.png 1024w, https://www.sahebansari.com/media/posts/1/responsive/step0005-xl.png 1360w, https://www.sahebansari.com/media/posts/1/responsive/step0005-2xl.png 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="189" width="320" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2024-05-30T22:07">May 30, 2024</time></div><h1>Are you TLS 1.2 ready? Force your secure Web API to use TLS 1.2.</h1><div class="post__meta post__meta--author"><a href="https://www.sahebansari.com/authors/saheb-ansari/" class="feed__author">Saheb Ansari</a></div></div></header></div><div class="wrapper post__entry"><p><strong>What is TLS?</strong><br>Transport Layer Security (TLS) is an industry security standard to help protect data transmitted over the internet. The newest version of TLS, 1.2 provides enhanced security and it is the current standard.<br><br><strong>.NET Framework &amp; TLS </strong><br>The .NET framework uses common language runtime, used as an execution engine and class library providing reusable code. Older versions of .NET do not support the newer TLS 1.2 so it is recommended to also upgrade .NET to at least 4.5 if you are using an older version of Windows. The .NET 4.5 supports TLS 1.2 but it is not the default protocol so you need to opt-in to use the latest TLS 1.2.<br><br><strong>Forcing a secure website and web API to use TLS 1.2</strong><br>With the recent upgrade of TLS 1.0 and 1.1 to TLS 1.2. Older TLS 1.0 and TLS 1.1 being deprecated, So, you have to force your websites/services to run over TLS 1.2.<br>You will get below error due to TLS upgrade, the latest browsers by default will make a call to service (API) using TLS1.2  and API will not accept the request with new TLS version. So to fix this issue you have to force API to accept the request with new TLS 1.2 version.<br><br><i>GET - An unhandled exception occurred. System.InvalidOperationException: An error occurred while processing this request. ---&gt; Microsoft.OData.Client.DataServiceTransportException: The underlying connection was closed: An unexpected error occurred on a send. ---&gt; System.Net.WebException: The underlying connection was closed: An unexpected error occurred on a send. ---&gt; System.IO.IOException: Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host. ---&gt; System.Net.Sockets.SocketException: An existing connection was forcibly closed by the remote host</i><br><i><br></i><strong>To fix this issue you have to add below lines to global.asax</strong></p><p> <code>protected void Application_Start()  </code><br><code>  {  </code><br><code>            ServicePointManager.SecurityProtocol = SecurityProtocolType.Tls   </code><br><code>                                    | SecurityProtocolType.Tls11   </code><br><code>                                    | SecurityProtocolType.Tls12;  </code><br><code> }  </code></p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on May 30, 2024</p><ul class="post__tag"><li><a href="https://www.sahebansari.com/tags/dataservicetransportexception/">DataServiceTransportException</a></li><li><a href="https://www.sahebansari.com/tags/ssl/">SSL</a></li><li><a href="https://www.sahebansari.com/tags/tls-12/">TLS 1.2</a></li><li><a href="https://www.sahebansari.com/tags/web-api/">Web API</a></li></ul><div class="post__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.sahebansari.com%2Fforce-your-web-api-to-use-tls-1-2.html" class="js-share facebook" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#facebook"/></svg> <span>Facebook</span> </a><a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fwww.sahebansari.com%2Fforce-your-web-api-to-use-tls-1-2.html&amp;via=%40sahebansari&amp;text=Are%20you%20TLS%201.2%20ready%3F%20Force%20your%20secure%20Web%20API%20to%20use%20TLS%201.2." class="js-share twitter" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#twitter"/></svg> <span>Twitter</span> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.sahebansari.com%2Fforce-your-web-api-to-use-tls-1-2.html" class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span> </a><a href="https://api.whatsapp.com/send?text=Are%20you%20TLS%201.2%20ready%3F%20Force%20your%20secure%20Web%20API%20to%20use%20TLS%201.2. https%3A%2F%2Fwww.sahebansari.com%2Fforce-your-web-api-to-use-tls-1-2.html" class="js-share whatsapp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#whatsapp"/></svg> <span>WhatsApp</span></a></div><div class="post__bio bio"><div><h3 class="bio__name"><a href="https://www.sahebansari.com/authors/saheb-ansari/" rel="author">Saheb Ansari</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-next"><a href="https://www.sahebansari.com/resume.html" class="post__nav-link" rel="next"><span>Next</span> Resume </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav></main><footer class="footer"><div class="footer__social"><a href="https://www.facebook.com/sahebansari" aria-label="Facebook"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://www.x.com/sahebansari" aria-label="Twitter"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.linkedin.com/in/sahebansari" aria-label="LinkedIn"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://www.youtube.com/@sahebansari" aria-label="Youtube"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright"><p>Designed by love by Saheb Ansari using Publii</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://www.sahebansari.com/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script></body></html>