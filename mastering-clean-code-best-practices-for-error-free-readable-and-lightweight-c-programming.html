<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Mastering Clean Code: Best Practices for Error-free, Readable, and Lightweight C# Programming - Saheb Ansari | Software Engineer</title><meta name="description" content="Unraveling the Art of Writing Clean Code in C#.
Best Practices for Readable, Lightweight Code with Minimal Errors and Proper Error Handling
"><meta name="generator" content="Publii Open-Source CMS for Static Site"><script type="text/javascript" async src="https://www.googletagmanager.com/gtag/js?id=G-Y4BK0MNFF1"></script><script type="text/javascript">window.dataLayer = window.dataLayer || [];
				  function gtag(){dataLayer.push(arguments);}
				  gtag('js', new Date());
				  gtag('config', 'G-Y4BK0MNFF1' );</script><link rel="stylesheet" href="https://www.sahebansari.com/media/plugins/syntaxHighlighter/prism-violet.css"><link rel="canonical" href="https://www.sahebansari.com/mastering-clean-code-best-practices-for-error-free-readable-and-lightweight-c-programming.html"><link rel="alternate" type="application/atom+xml" href="https://www.sahebansari.com/feed.xml"><link rel="alternate" type="application/json" href="https://www.sahebansari.com/feed.json"><meta property="og:title" content="Mastering Clean Code: Best Practices for Error-free, Readable, and Lightweight C# Programming"><meta property="og:image" content="https://www.sahebansari.com/media/posts/7/programming.png"><meta property="og:image:width" content="1700"><meta property="og:image:height" content="584"><meta property="og:site_name" content="Saheb Ansari | Software Engineer"><meta property="og:description" content="Unraveling the Art of Writing Clean Code in C#.
Best Practices for Readable, Lightweight Code with Minimal Errors and Proper Error Handling
"><meta property="og:url" content="https://www.sahebansari.com/mastering-clean-code-best-practices-for-error-free-readable-and-lightweight-c-programming.html"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@sahebansari"><meta name="twitter:title" content="Mastering Clean Code: Best Practices for Error-free, Readable, and Lightweight C# Programming"><meta name="twitter:description" content="Unraveling the Art of Writing Clean Code in C#.
Best Practices for Readable, Lightweight Code with Minimal Errors and Proper Error Handling
"><meta name="twitter:image" content="https://www.sahebansari.com/media/posts/7/programming.png"><link rel="shortcut icon" href="https://www.sahebansari.com/media/website/favicon.ico" type="image/x-icon"><link rel="preload" href="https://www.sahebansari.com/assets/dynamic/fonts/lora/lora.woff2" as="font" type="font/woff2" crossorigin><link rel="preload" href="https://www.sahebansari.com/assets/dynamic/fonts/lora/lora-italic.woff2" as="font" type="font/woff2" crossorigin><link rel="stylesheet" href="https://www.sahebansari.com/assets/css/style.css?v=38570f417c4153104dc57fb14478222c"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.sahebansari.com/mastering-clean-code-best-practices-for-error-free-readable-and-lightweight-c-programming.html"},"headline":"Mastering Clean Code: Best Practices for Error-free, Readable, and Lightweight C# Programming","datePublished":"2024-11-15T09:20+05:30","dateModified":"2024-11-17T22:37+05:30","image":{"@type":"ImageObject","url":"https://www.sahebansari.com/media/posts/7/programming.png","height":584,"width":1700},"description":"Unraveling the Art of Writing Clean Code in C#.\nBest Practices for Readable, Lightweight Code with Minimal Errors and Proper Error Handling\n","author":{"@type":"Person","name":"Saheb Ansari","url":"https://www.sahebansari.com/authors/saheb-ansari/"},"publisher":{"@type":"Organization","name":"Saheb Ansari","logo":{"@type":"ImageObject","url":"https://www.sahebansari.com/media/website/logo-transparent-svg-2.svg","height":19,"width":19}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript><link rel="stylesheet" href="https://www.sahebansari.com/media/plugins/docSearch/docsearch.min.css"></head><body class="post-template"><header class="header" id="js-header"><a href="https://www.sahebansari.com/" class="logo"><img src="https://www.sahebansari.com/media/website/logo-transparent-svg-2.svg" alt="Saheb Ansari | Software Engineer" width="19" height="19"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://www.sahebansari.com/" title="Go back to home page" target="_self">Home</a></li><li><a href="https://www.sahebansari.com/tags/posts/" title="Latest Posts" target="_self">Posts</a></li><li><a href="https://www.sahebansari.com/contact.html" title="Go to contact page" target="_self">Contact Us</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div id="docsearch"></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false" height="18" width="18"><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#search"/></svg></button></div></header><main class="post"><div class="wrapper"><article class="content"><header class="content__header"><a href="https://www.sahebansari.com/tags/programming/" class="content__maintag">Programming</a><h1 class="content__title">Mastering Clean Code: Best Practices for Error-free, Readable, and Lightweight C# Programming</h1><div class="content__meta"><div class="content__author">By <a href="https://www.sahebansari.com/authors/saheb-ansari/" class="invert" rel="author" title="Saheb Ansari">Saheb Ansari</a></div><time datetime="2024-11-15T09:20">November 15, 2024</time></div></header><figure class="content__featured-image"><img src="https://www.sahebansari.com/media/posts/7/programming.png" srcset="https://www.sahebansari.com/media/posts/7/responsive/programming-xs.png 300w, https://www.sahebansari.com/media/posts/7/responsive/programming-sm.png 480w, https://www.sahebansari.com/media/posts/7/responsive/programming-md.png 768w, https://www.sahebansari.com/media/posts/7/responsive/programming-lg.png 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="eager" height="584" width="1700" alt=""><figcaption>Image Credit: freepik (pikisuperstar)</figcaption></figure><div class="content__inner"><div class="content__entry"><p class="dropcap">Clean code is the hallmark of a skilled software developer. It not only improves code readability but also reduces errors and makes maintenance and scalability easier. In this blog post, we will explore some best coding practices, error handling techniques, and code optimization tips to help you write clean, efficient, and reliable C# code.Â <br><br><strong>1. Meaningful and Consistent Naming Conventions:</strong><br>One of the fundamental principles of writing clean code is to use meaningful names for variables, functions, classes, and other entities. Ensure that your code follows a consistent naming convention (e.g., camel case or Pascal case) throughout the project. Meaningful names make code more readable, self-documenting, and provide context to fellow developers. Consistency is an essential aspect of clean code. Adopt a consistent naming convention for variables, functions, and classes. Use descriptive names that convey their purpose, making it easier for others to understand and maintain the code.<br><br></p><pre class="language-csharp line-numbers"><code>// C#
// Example of meaningful variable names
int studentAge = 20;
string studentName = "John Doe";

// Example of meaningful function names
public bool IsAdult(int age)
{
    return age &gt;= 18;
}</code></pre><p><br><strong>2. Proper Indentation and Formatting:</strong><br>Consistent indentation and code formatting greatly enhance code readability. Use proper spacing and line breaks to organize your code logically. Avoid long lines of code and wrap them to fit within a reasonable length (80-120 characters) for better legibility.</p><pre class="language-csharp line-numbers"><code>// C#
// Example of properly indented and formatted code
public void CalculateSum(int a, int b)
{
    int sum = a + b;
    
    Console.WriteLine("The sum of {0} and {1} is {2}", a, b, sum);
}</code></pre><p><br><strong>3. Maintain Short and Focused Methods:</strong><br>To promote code readability and reusability, keep your methods short, focused, and following the Single Responsibility Principle(SRP). Each method should have a clear purpose and do only one thing. Breaking down complex logic into smaller, modular methods not only aids comprehension but also simplifies testing and debugging. Divide your code into smaller, more manageable modules that each have a single responsibility. This approach allowing for code reuse, easier testing, and improved readability. Avoid long and monolithic functions or classes that become hard to comprehend and maintain.</p><pre class="language-csharp line-numbers"><code>// C#
// Example of breaking down complex logic into smaller methods
public int CalculateSum(int a, int b)
{
    return a + b;
}

public void DisplaySum(int sum)
{
    Console.WriteLine("The sum is: " + sum);
}

// Usage
int result = CalculateSum(3, 4);
DisplaySum(result);</code></pre><p><strong>4. Effective Error Handling:</strong><br>Clean code should handle errors gracefully and provide helpful messages for debugging and troubleshooting. Utilize exception handling techniques such as try-catch-finally blocks to catch and handle exceptions appropriately. Avoid using broad catch-all exceptions; instead, catch specific exceptions that you can handle explicitly.</p><pre class="language-csharp line-numbers"><code>// C#
// Example of proper error handling
try
{
    int[] numbers = new int[] { 1, 2, 3 };
    int result = numbers[4]; // accessing an out-of-bounds index
}
catch (IndexOutOfRangeException ex)
{
    Console.WriteLine("An error occurred: " + ex.Message);
}</code></pre><p><strong>5. Optimize Code for Performance:</strong><br>Clean code also means optimizing performance by reducing unnecessary computations, memory usage, and improving code efficiency. Utilize built-in data structures and algorithms whenever possible and avoid reinventing the wheel.</p><pre class="language-csharp line-numbers"><code>// C#
// Example of using built-in C# features for efficient code
List&lt;int&gt; numbers = new List&lt;int&gt;() { 1, 2, 3 };

foreach (int number in numbers)
{
    Console.WriteLine(number);
}</code></pre><p><strong>6. Minimize Dependencies:</strong><br>Reduce coupling and dependencies between different parts of your code. Code that is tightly coupled becomes challenging to understand and maintain. Use dependency injection and interfaces to decouple components, promoting code reuse and testability.<br><br><strong>7. Code Refactoring and Simplicity:</strong><br>Refactor your code frequently to eliminate duplication, improve performance, and simplify the implementation. Don't be afraid to rewrite and optimize code if necessary. Simplicity should always be prioritized over complexity to enhance readability.</p><p><strong>Conclusion:</strong><br>Writing clean code in C# goes beyond adhering to a set of guidelines. It requires a mindset that prioritizes readability, error handling, and code optimization. By following best practices, using meaningful naming conventions, maintaining proper indentation, and employing efficient error handling, you can ensure your code is clean, easy to understand, and performs optimally. Remember, clean code benefits not only you but also the other developers who work on the project. So, strive for clean code and become a better programmer.</p></div><footer><p class="content__last-updated">This article was updated on November 17, 2024</p><div class="content__tags-share"><ul class="content__tag"><li><a href="https://www.sahebansari.com/tags/best-practices/">Best Practices</a></li><li><a href="https://www.sahebansari.com/tags/c/">C#</a></li><li><a href="https://www.sahebansari.com/tags/posts/">Posts</a></li><li><a href="https://www.sahebansari.com/tags/programming/">Programming</a></li></ul><aside class="content__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.sahebansari.com%2Fmastering-clean-code-best-practices-for-error-free-readable-and-lightweight-c-programming.html" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://twitter.com/share?url=https%3A%2F%2Fwww.sahebansari.com%2Fmastering-clean-code-best-practices-for-error-free-readable-and-lightweight-c-programming.html&amp;via=%40sahebansari&amp;text=Mastering%20Clean%20Code%3A%20Best%20Practices%20for%20Error-free%2C%20Readable%2C%20and%20Lightweight%20C%23%20Programming" class="js-share twitter" aria-label="Share with Twitter" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fwww.sahebansari.com%2Fmastering-clean-code-best-practices-for-error-free-readable-and-lightweight-c-programming.html" class="js-share linkedin" aria-label="Share with LinkedIn" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://api.whatsapp.com/send?text=Mastering%20Clean%20Code%3A%20Best%20Practices%20for%20Error-free%2C%20Readable%2C%20and%20Lightweight%20C%23%20Programming https%3A%2F%2Fwww.sahebansari.com%2Fmastering-clean-code-best-practices-for-error-free-readable-and-lightweight-c-programming.html" class="js-share whatsapp" aria-label="Share with WhatsApp" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#whatsapp"/></svg></a></aside></div><div class="content__bio bio"><img src="https://www.sahebansari.com/media/website/profile2.png" loading="lazy" height="150" width="150" class="bio__avatar" alt="Saheb Ansari"><div><h3 class="h6 bio__name"><a href="https://www.sahebansari.com/authors/saheb-ansari/" class="invert" title="Saheb Ansari">Saheb Ansari</a></h3><div class="bio__desc"><p>A hardcore software developer who writes computer program under the moonlight and the sunlight. Who passionate about AI and machine learning, share insights through engaging, humorous blogs. Known for sharp intellect and witty banter. Outside of coding, enjoy exploring new gadgets and sci-fi novels.</p><div class="footer__social">Follow me on: <a style="text-decoration: none;" href="https://www.facebook.com/sahebansari" aria-label="Facebook" target="_blank" rel="noopener">Facebook</a> | <a style="text-decoration: none;" href="https://www.x.com/sahebansari" aria-label="X" target="_blank" rel="noopener">X.com(twitter)</a> | <a style="text-decoration: none;" href="https://www.youtube.com/@sahebansari" aria-label="Youtube" target="_blank" rel="noopener">YouTube</a> | <a style="text-decoration: none;" href="https://www.linkedin.com/in/sahebansari/" aria-label="LinkedIn" target="_blank" rel="noopener">LinkedIn</a></div></div></div></div><nav class="content__nav"><div class="content__nav__prev"><a class="content__nav__link" href="https://www.sahebansari.com/blogging-your-passions-finding-creative-inspiration-in-daily-life.html" rel="prev">Previous Post<h3 class="h6">Blogging Your Passions: Finding Creative Inspiration in Daily Life</h3></a></div></nav></footer></div></article></div><div class="content__related"><div class="wrapper"><h2 class="h5">Related posts</h2><div class="l-grid l-grid--4"><article class="c-card"><a href="https://www.sahebansari.com/ai-the-new-best-friend-you-never-knew-you-needed.html" class="c-card__image"><img src="https://www.sahebansari.com/media/posts/3/playfull-ai.png" srcset="https://www.sahebansari.com/media/posts/3/responsive/playfull-ai-xs.png 300w, https://www.sahebansari.com/media/posts/3/responsive/playfull-ai-sm.png 480w, https://www.sahebansari.com/media/posts/3/responsive/playfull-ai-md.png 768w, https://www.sahebansari.com/media/posts/3/responsive/playfull-ai-lg.png 1200w" sizes="(min-width: 56.25em) 100vw, (min-width: 37.5em) 50vw, 100vw" loading="lazy" height="1024" width="1024" alt=""></a><div class="c-card__wrapper"><header class="c-card__header"><div class="c-card__tag"><a href="https://www.sahebansari.com/tags/ai/">AI</a></div><h3 class="c-card__title"><a href="https://www.sahebansari.com/ai-the-new-best-friend-you-never-knew-you-needed.html" class="invert">AI: The new best friend you never knew you needed</a></h3></header><footer class="c-card__meta"><time datetime="2024-11-10T12:59">November 10, 2024</time></footer></div></article></div></div></div></main><footer class="footer"><div class="footer__social"><a href="https://www.facebook.com/sahebansari" aria-label="Facebook" class="facebook"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://www.x.com/sahebansari" aria-label="Twitter" class="twitter"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#twitter"/></svg> </a><a href="https://www.linkedin.com/in/sahebansari/" aria-label="LinkedIn" class="linkedin"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#linkedin"/></svg> </a><a href="https://www.youtube.com/@sahebansari" aria-label="Youtube" class="youtube"><svg><use xlink:href="https://www.sahebansari.com/assets/svg/svg-map.svg#youtube"/></svg></a></div><div class="footer__copyright"><div class="wrapper"><a href="index.html" title="Home page" target="_self">Home</a> | <a href="tags/posts/index.html" title="Latest Posts page" target="_self">Posts</a> | <a href="contact.html" title="Contact page" target="_self">Contact Us</a> | <a href="copyright-policy.html" title="Copyright Policy page" target="_self">Copyright</a> | <a href="privacy-policy.html" title="Privacy Policy page" target="_self">Privacy</a><br><br>Copyright Â© 2024, Saheb Ansari. All rights reserved.<br><br><small>Any logos or company names mentioned here are used solely for reference purposes and may be the trademarks or property of their respective owners.</small></div></div></footer><script>window.publiiThemeMenuConfig = {    
      mobileMenuMode: 'sidebar',
      animationSpeed: 300,
      submenuWidth: 'auto',
      doubleClickTime: 500,
      mobileMenuExpandableSubmenus: true, 
      relatedContainerForOverlayMenuSelector: '.navbar',
   };</script><script defer="defer" src="https://www.sahebansari.com/assets/js/scripts.min.js?v=1b09dc64eb6086ddc9720890661ff038"></script><script>var images = document.querySelectorAll('img[loading]');

      for (var i = 0; i < images.length; i++) {
         if (images[i].complete) {
               images[i].classList.add('is-loaded');
         } else {
               images[i].addEventListener('load', function () {
                  this.classList.add('is-loaded');
               }, false);
         }
      }</script><script defer="defer" src="https://www.sahebansari.com/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://www.sahebansari.com/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://www.sahebansari.com/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://www.sahebansari.com/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script src="https://www.sahebansari.com/media/plugins/docSearch/docsearch.min.js"></script><script type="text/javascript">docsearch({
				container: '#docsearch',
				appId: 'KZS745RKYF',
				indexName: 'sahebansari',
				apiKey: '274a7e12d5f9c9954f5343426ef85498',
				debug: false
			});</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="90" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">This website uses cookies</div><div id="pcb-txt" class="pcb__txt">Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="https://www.sahebansari.com/privacy-policy.html">Privacy Policy</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Manage preferences</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Cookie settings</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">We use cookies to enhance your browsing experience, serve personalized ads or content, and analyze our traffic. By clicking "Accept All", you consent to our use of cookies. <a href="https://www.sahebansari.com/privacy-policy.html">Privacy Policy</a></div><ul class="pcb__groups"><li class="pcb__group"><details><summary class="pcb__group__title no-desc">Required</summary></details><div class="pcb__popup__switch"><input type="checkbox" data-group-name="G1234" id="G1234-cookies"> <label for="G1234-cookies">Required</label></div></li></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Accept all</button> <button type="button" class="pcb__btn pcb__btn--reject">Reject all</button> <button type="button" class="pcb__btn pcb__btn--save">Save settings</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Cookie Policy" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>window.dataLayer = window.dataLayer || [];
                function gtag() { dataLayer.push(arguments); }

                window.publiiCBGCM = {
                    defaultState: {"ad_storage":true,"ad_personalization":true,"ad_user_data":true,"analytics_storage":false,"personalization_storage":true,"functionality_storage":true,"security_storage":true},
                    groups: []
                };
            
            (function(win) {
    if (!document.querySelector('.pcb')) {
        return;
    }

    var cbConfig = {
        behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
        behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
        revision: document.querySelector('.pcb').getAttribute('data-revision'),
        configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
        debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
        initialState: null,
        initialLsState: null,
        previouslyAccepted: []
    };

    var cbUI = {
        wrapper: document.querySelector('.pcb'),
        banner: {
            element: null,
            btnAccept: null,
            btnReject: null,
            btnConfigure: null
        },
        popup: {
            element: null,
            btnClose: null,
            btnSave: null,
            btnAccept: null,
            btnReject: null,
            checkboxes: null,
        },
        overlay: null,
        badge: null,
        blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
        triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
    };

    function initUI () {
        // setup banner elements
        cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
        cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
        cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
        cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');

        // setup popup elements
        if (cbUI.wrapper.querySelector('.pcb__popup')) {
            cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
            cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
            cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
            cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
            cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
            cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
            // setup overlay
            cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
        }

        cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');

        if (cbConfig.behaviour.indexOf('link') > -1) {
            for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                cbUI.triggerLinks[i].addEventListener('click', function(e) {
                    e.preventDefault();
                    showBannerOrPopup();
                });
            }
        }
    }

    function initState () {
        var lsKeyName = getConfigName();
        var currentConfig = localStorage.getItem(lsKeyName);
        var configIsFresh = checkIfConfigIsFresh();

        if (!configIsFresh || currentConfig === null) {
            if (cbConfig.debugMode) {
                console.log('ðª Config not found, or configuration expired');
            }

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                    'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                    'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                    'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                    'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                    'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                    'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                });  
                
                if (cbConfig.debugMode) {
                    console.log('ðª GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                        'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                        'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                        'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                        'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                        'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                        'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                    }));
                }
            }

            showBanner();
        } else if (typeof currentConfig === 'string') {
            if (cbConfig.debugMode) {
                console.log('ðª Config founded');
            }

            cbConfig.initialLsState = currentConfig.split(',');

            if (window.publiiCBGCM) {
                gtag('consent', 'default', {
                    'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                    'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                    'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                    'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                    'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                    'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                    'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                });
                
                if (cbConfig.debugMode) {
                    console.log('ðª GCMv2 DEFAULT STATE: ' + JSON.stringify({
                        'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                        'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                        'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                        'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                        'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                        'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                        'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                    }));
                }
            }

            showBadge();

            if (cbUI.popup.element) {
                var allowedGroups = currentConfig.split(',');
                var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');

                for (var j = 0; j < checkedCheckboxes.length; j++) {
                    var name = checkedCheckboxes[j].getAttribute('data-group-name');

                    if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                        checkedCheckboxes[j].checked = false;
                    }
                }

                for (var i = 0; i < allowedGroups.length; i++) {
                    var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');

                    if (checkbox) {
                        checkbox.checked = true;
                    }

                    allowCookieGroup(allowedGroups[i]);
                }
            }
        }

        setTimeout(function () {
            cbConfig.initialState = getInitialStateOfConsents();
        }, 0);
    }

    function checkIfConfigIsFresh () {
        var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');

        if (lastConfigSave === null) {
            return false;
        }

        lastConfigSave = parseInt(lastConfigSave, 10);

        if (lastConfigSave === 0) {
            return true;
        }

        if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
            return true;
        }

        return false;
    }

    function getDefaultConsentState (currentConfig, consentGroup) {
        let configGroups = currentConfig.split(',');

        for (let i = 0; i < configGroups.length; i++) {
            let groupName = configGroups[i];
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);

            if (group && group[consentGroup]) {
                return 'granted';
            }
        }  
        
        if (window.publiiCBGCM.defaultState[consentGroup]) {
            return 'granted'; 
        }
        
        return 'denied';
    }

    function initBannerEvents () {
        cbUI.banner.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('banner');
            showBadge();
        }, false);

        if (cbUI.banner.btnReject) {
            cbUI.banner.btnReject.addEventListener('click', function (e) {
                e.preventDefault();
                rejectAllCookies();
                showBadge();
            }, false);
        }

        if (cbUI.banner.btnConfigure) {
            cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                e.preventDefault();
                hideBanner();
                showAdvancedPopup();
                showBadge();
            }, false);
        }
    }

    function initPopupEvents () {
        if (!cbUI.popup.element) {
            return;
        }

        cbUI.overlay.addEventListener('click', function (e) {
            hideAdvancedPopup();
        }, false);

        cbUI.popup.element.addEventListener('click', function (e) {
            e.stopPropagation();
        }, false);

        cbUI.popup.btnAccept.addEventListener('click', function (e) {
            e.preventDefault();
            acceptAllCookies('popup');
        }, false);

        cbUI.popup.btnReject.addEventListener('click', function (e) {
            e.preventDefault();
            rejectAllCookies();
        }, false);

        cbUI.popup.btnSave.addEventListener('click', function (e) {
            e.preventDefault();
            saveConfiguration();
        }, false);

        cbUI.popup.btnClose.addEventListener('click', function (e) {
            e.preventDefault();
            hideAdvancedPopup();
        }, false);
    }

    function initBadgeEvents () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.addEventListener('click', function (e) {
            showBannerOrPopup();
        }, false);
    }

    initUI();
    initState();
    initBannerEvents();
    initPopupEvents();
    initBadgeEvents();

    /**
     * API
     */
    function addScript (src, inline) {
        var newScript = document.createElement('script');

        if (src) {
            newScript.setAttribute('src', src);
        }

        if (inline) {
            newScript.text = inline;
        }

        document.body.appendChild(newScript);
    }

    function allowCookieGroup (allowedGroup) {
        var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
        cbConfig.previouslyAccepted.push(allowedGroup);
    
        for (var j = 0; j < scripts.length; j++) {
            addScript(scripts[j].src, scripts[j].text);
        }

        var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
        document.body.dispatchEvent(groupEvent);
        unlockEmbeds(allowedGroup);

        if (cbConfig.debugMode) {
            console.log('ðª Allowed group: ' + allowedGroup);
        }

        if (window.publiiCBGCM && cbConfig.initialLsState.indexOf(allowedGroup) === -1) {
            let consentResult = {};
            let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);

            if (group) {
                let foundSomeConsents = false;

                Object.keys(group).forEach(key => {
                    if (key !== 'cookieGroup' && group[key] === true) {
                        consentResult[key] = 'granted';
                        foundSomeConsents = true;
                    }
                });

                if (foundSomeConsents) {
                    gtag('consent', 'update', consentResult);   

                    if (cbConfig.debugMode) {
                        console.log('ðª GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                    }
                }
            }
        }
    }

    function showBannerOrPopup () {
        if (cbUI.popup.element) {
            showAdvancedPopup();
        } else {
            showBanner();
        }
    }

    function showAdvancedPopup () {
        cbUI.popup.element.classList.add('is-visible');
        cbUI.overlay.classList.add('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'false');
        cbUI.overlay.setAttribute('aria-hidden', 'false');
    }

    function hideAdvancedPopup () {
        cbUI.popup.element.classList.remove('is-visible');
        cbUI.overlay.classList.remove('is-visible');
        cbUI.popup.element.setAttribute('aria-hidden', 'true');
        cbUI.overlay.setAttribute('aria-hidden', 'true');
    }

    function showBanner () {
        cbUI.banner.element.classList.add('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'false');
    }

    function hideBanner () {
        cbUI.banner.element.classList.remove('is-visible');
        cbUI.banner.element.setAttribute('aria-hidden', 'true');
    }

    function showBadge () {
        if (!cbUI.badge) {
            return;
        }

        cbUI.badge.classList.add('is-visible');
        cbUI.badge.setAttribute('aria-hidden', 'false');
    }

    function getConfigName () {
        var lsKeyName = 'publii-gdpr-allowed-cookies';

        if (cbConfig.revision) {
            lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
        }

        return lsKeyName;
    }

    function storeConfiguration (allowedGroups) {
        var lsKeyName = getConfigName();
        var dataToStore = allowedGroups.join(',');
        localStorage.setItem(lsKeyName, dataToStore);

        if (cbConfig.configTTL === 0) {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);

            if (cbConfig.debugMode) {
                console.log('ðª Store never expiring configuration');
            }
        } else {
            localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
        }
    }

    function getInitialStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('ðª Initial state: ' + groups.join(', '));
        }

        return groups;
    }

    function getCurrentStateOfConsents () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        if (cbConfig.debugMode) {
            console.log('ðª State to save: ' + groups.join(', '));
        }

        return groups;
    }

    function getAllGroups () {
        if (!cbUI.popup.element) {
            return [];
        }

        var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
        var groups = [];

        for (var i = 0; i < checkedGroups.length; i++) {
            var allowedGroup = checkedGroups[i].getAttribute('data-group-name');

            if (allowedGroup !== '') {
                groups.push(allowedGroup);
            }
        }

        return groups;
    }

    function acceptAllCookies (source) {
        var groupsToAccept = getAllGroups();
        storeConfiguration(groupsToAccept);

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('ðª Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        if (cbUI.popup.element) {
            var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');

            for (var j = 0; j < checkboxesToCheck.length; j++) {
                checkboxesToCheck[j].checked = true;
            }
        }

        if (cbConfig.debugMode) {
            console.log('ðª Accept all cookies: ', groupsToAccept.join(', '));
        }

        if (source === 'popup') {
            hideAdvancedPopup();
        } else if (source === 'banner') {
            hideBanner();
        }
    }

    function rejectAllCookies () {
        if (cbConfig.debugMode) {
            console.log('ðª Reject all cookies');
        }

        storeConfiguration([]);
        setTimeout(function () {
            window.location.reload();
        }, 100);
    }

    function saveConfiguration () {
        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('ðª Save new config: ', groupsToAccept.join(', '));
        }

        if (reloadIsNeeded(groupsToAccept)) {
            setTimeout(function () {
                window.location.reload();
            }, 100);
            return;
        }

        for (var i = 0; i < groupsToAccept.length; i++) {
            var group = groupsToAccept[i];

            if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                if (cbConfig.debugMode) {
                    console.log('ðª Skip previously activated group: ' + group);
                }

                continue;
            }

            allowCookieGroup(group);
        }

        hideAdvancedPopup();
    }

    function reloadIsNeeded (groupsToAccept) {
        // check if user rejected consent for initial groups
        var initialGroups = cbConfig.initialState;
        var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
        var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);

        for (var i = 0; i < groupsToCheck.length; i++) {
            var groupToCheck = groupsToCheck[i];

            if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                if (cbConfig.debugMode) {
                    console.log('ðª Reload is needed due lack of: ', groupToCheck);
                }

                return true;
            }
        }

        return false;
    }

    function unlockEmbeds (cookieGroup) {
        var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');

        for (var i = 0; i < iframesToUnlock.length; i++) {
            var iframeWrapper = iframesToUnlock[i];
            iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
            iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
            var iframe = iframeWrapper.querySelector('iframe');
            iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
        }
    }

    win.publiiEmbedConsentGiven = function (cookieGroup) {
        // it will unlock embeds
        allowCookieGroup(cookieGroup);

        var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');

        if (checkbox) {
            checkbox.checked = true;
        }

        var groupsToAccept = getCurrentStateOfConsents();
        storeConfiguration(groupsToAccept);

        if (cbConfig.debugMode) {
            console.log('ðª Save new config: ', groupsToAccept.join(', '));
        }
    }
})(window);</script></body></html>